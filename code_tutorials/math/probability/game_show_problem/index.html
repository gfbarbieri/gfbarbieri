<!doctype html><html lang=en><head><meta charset=utf-8><title>Greg Barbieri</title><link href=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css rel=stylesheet><link href=/css/custom.css rel=stylesheet><script src=https://kit.fontawesome.com/d86cd22b71.js crossorigin=anonymous></script>
<link href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.2.1.slim.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js></script>
<script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body><nav class="navbar navbar-expand-sm fixed-top"><div class=container><a class=navbar-brand href=/>Greg Barbieri</a><div class="collapse navbar-collapse"><ul class="nav navbar-nav mr-auto"></ul><ul class=navbar-nav><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown>Code Tutorials</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class=dropdown-item href=/code_topics/code_topics#math>Math</a>
<a class=dropdown-item href=/code_topics/code_topics#gis>GIS</a>
<a class=dropdown-item href=/code_topics/code_topics#data_sources>Data Sources</a>
<a class=dropdown-item href=/code_topics/code_topics#web_scraping>Web Scraping</a></div></li></ul></div></div></nav><main class=code_tutorial><div class=container style=padding-top:100px><div class=row><div class=col-sm-12><article><header><h1>Game Show Problem</h1></header><div class=content><p>The Game-Show Problem, or Monty Hall Problem according to <a href=https://en.wikipedia.org/wiki/Monty_Hall_problem>Wikipedia</a>.</p><ol><li>Choose one of three doors, one of which has the desired prize.</li><li>The game show host always opens one of the remaining two doors which does not have the prize behind it.</li><li>The host then asks the player if they would like to switch doors.</li><li>The player chooses whether to switch doors.</li><li>The host assigns a prize to the player.</li></ol><p>What is the optimal strategy for the player?</p><h3 id=import-libraries>Import Libraries</h3><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#007020;font-weight:700>import</span> <span style=color:#0e84b5;font-weight:700>pandas</span> <span style=color:#007020;font-weight:700>as</span> <span style=color:#0e84b5;font-weight:700>pd</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>import</span> <span style=color:#0e84b5;font-weight:700>numpy</span> <span style=color:#007020;font-weight:700>as</span> <span style=color:#0e84b5;font-weight:700>np</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>import</span> <span style=color:#0e84b5;font-weight:700>matplotlib.pyplot</span> <span style=color:#007020;font-weight:700>as</span> <span style=color:#0e84b5;font-weight:700>plt</span>
</span></span></code></pre></div><h3 id=play-the-game>Play the Game</h3><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#60a0b0;font-style:italic># One door has the prize &#34;P&#34; and two do not have the prize &#34;N&#34;.</span>
</span></span><span style=display:flex><span>doors <span style=color:#666>=</span> pd<span style=color:#666>.</span>DataFrame(data<span style=color:#666>=</span>[<span style=color:#4070a0>&#39;P&#39;</span>,<span style=color:#4070a0>&#39;N&#39;</span>,<span style=color:#4070a0>&#39;N&#39;</span>], columns<span style=color:#666>=</span>[<span style=color:#4070a0>&#39;prizes&#39;</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>runs <span style=color:#666>=</span> <span style=color:#40a070>100000</span>
</span></span><span style=display:flex><span>wins <span style=color:#666>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>for</span> i <span style=color:#007020;font-weight:700>in</span> <span style=color:#007020>range</span>(runs):
</span></span><span style=display:flex><span>    <span style=color:#60a0b0;font-style:italic># 1. Player selects a Door.</span>
</span></span><span style=display:flex><span>    doors <span style=color:#666>=</span> doors<span style=color:#666>.</span>sample(frac<span style=color:#666>=</span><span style=color:#40a070>1</span>)<span style=color:#666>.</span>reset_index(drop<span style=color:#666>=</span><span style=color:#007020;font-weight:700>True</span>)
</span></span><span style=display:flex><span>    door <span style=color:#666>=</span> doors<span style=color:#666>.</span>sample(n<span style=color:#666>=</span><span style=color:#40a070>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#60a0b0;font-style:italic># 2. Host removes a door that is neither the players door nor has the prize.</span>
</span></span><span style=display:flex><span>    remove <span style=color:#666>=</span> doors[(doors<span style=color:#666>.</span>index<span style=color:#666>.</span>isin(door<span style=color:#666>.</span>index) <span style=color:#666>==</span> <span style=color:#007020;font-weight:700>False</span>)
</span></span><span style=display:flex><span>                   <span style=color:#666>&amp;</span> (doors[<span style=color:#4070a0>&#39;prizes&#39;</span>] <span style=color:#666>==</span> <span style=color:#4070a0>&#39;N&#39;</span>)]<span style=color:#666>.</span>sample(n<span style=color:#666>=</span><span style=color:#40a070>1</span>)
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>    <span style=color:#60a0b0;font-style:italic># 3. Choose randomly whether to switch doors or not.</span>
</span></span><span style=display:flex><span>    switch <span style=color:#666>=</span> np<span style=color:#666>.</span>random<span style=color:#666>.</span>choice([<span style=color:#40a070>0</span>,<span style=color:#40a070>1</span>])
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#60a0b0;font-style:italic># 4. Assign the a prize.</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>if</span> switch <span style=color:#666>==</span> <span style=color:#40a070>1</span>:
</span></span><span style=display:flex><span>        prize <span style=color:#666>=</span> doors<span style=color:#666>.</span>drop(door<span style=color:#666>.</span>index)<span style=color:#666>.</span>drop(remove<span style=color:#666>.</span>index)<span style=color:#666>.</span>values
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>elif</span> switch <span style=color:#666>==</span> <span style=color:#40a070>0</span>:
</span></span><span style=display:flex><span>        prize <span style=color:#666>=</span> door<span style=color:#666>.</span>values
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#60a0b0;font-style:italic># 5. If door has the prize, then mark as a win.</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>if</span> prize <span style=color:#666>==</span> <span style=color:#4070a0>&#34;P&#34;</span>:
</span></span><span style=display:flex><span>        wins<span style=color:#666>.</span>append([<span style=color:#40a070>1</span>, switch])
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>else</span>:
</span></span><span style=display:flex><span>        wins<span style=color:#666>.</span>append([<span style=color:#40a070>0</span>, switch])
</span></span></code></pre></div><h3 id=calculate-results>Calculate Results</h3><p>The table below shows that switching doors gives a player a 66% chance of winning while a strategy of not switching doors gives the player only a 33% chance of winning the prize.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df <span style=color:#666>=</span> pd<span style=color:#666>.</span>DataFrame(data<span style=color:#666>=</span>wins, columns<span style=color:#666>=</span>[<span style=color:#4070a0>&#39;result&#39;</span>,<span style=color:#4070a0>&#39;switch&#39;</span>])
</span></span></code></pre></div><p>Calculate the probability of winning if the player switches doors.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df[df[<span style=color:#4070a0>&#39;switch&#39;</span>] <span style=color:#666>==</span> <span style=color:#40a070>1</span>][<span style=color:#4070a0>&#39;result&#39;</span>]<span style=color:#666>.</span>sum() <span style=color:#666>/</span> df[df[<span style=color:#4070a0>&#39;switch&#39;</span>] <span style=color:#666>==</span> <span style=color:#40a070>1</span>][<span style=color:#4070a0>&#39;result&#39;</span>]<span style=color:#666>.</span>count()
</span></span></code></pre></div><pre><code>0.669946919544343
</code></pre><p>Calculate the probability of winning if the player never switches doors.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df[df[<span style=color:#4070a0>&#39;switch&#39;</span>] <span style=color:#666>==</span> <span style=color:#40a070>0</span>][<span style=color:#4070a0>&#39;result&#39;</span>]<span style=color:#666>.</span>sum() <span style=color:#666>/</span> df[df[<span style=color:#4070a0>&#39;switch&#39;</span>] <span style=color:#666>==</span> <span style=color:#40a070>0</span>][<span style=color:#4070a0>&#39;result&#39;</span>]<span style=color:#666>.</span>count()
</span></span></code></pre></div><pre><code>0.33433268275015593
</code></pre></div></article></div></div></div></main><footer class=footer><div class=container><span class=text-muted><p>Greg Barbieri &#183; 2022 &#183; <a href>License</a></p></span><div class="col-md-4 col-sm-6"></div></div></footer></body></html>